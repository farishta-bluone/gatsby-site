(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4e68c630"],{"06c5":function(t,e,o){"use strict";o.d(e,"a",(function(){return r}));o("a630"),o("fb6a"),o("b0c0"),o("d3b7"),o("25f0"),o("3ca3");var l=o("6b75");function r(t,e){if(t){if("string"===typeof t)return Object(l["a"])(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?Object(l["a"])(t,e):void 0}}},"071b":function(t,e,o){"use strict";o.r(e);var l=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{attrs:{fluid:""}},[o("v-row",{staticClass:"my-3",attrs:{justify:"space-between"}},[o("v-col",{attrs:{cols:"auto"}},[o("h2",{staticClass:" font-weight-bold"},[t._v("Rolling Process")])]),o("v-col",{staticClass:"pb-0",attrs:{cols:"auto"}},[o("v-row",{attrs:{justify:"end"}},[o("v-col",{attrs:{cols:"auto"}},[o("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var l=e.on,r=e.attrs;return[o("v-text-field",t._g(t._b({staticClass:"body-1",attrs:{dense:"",outlined:"",color:"grey",placeholder:"Select Date",readonly:"",clearable:""},on:{"click:clear":function(e){return t.clearSearch("date")}},model:{value:t.addedFrom,callback:function(e){t.addedFrom=e},expression:"addedFrom"}},"v-text-field",r,!1),l))]}}]),model:{value:t.addedFromMenu,callback:function(e){t.addedFromMenu=e},expression:"addedFromMenu"}},[o("v-date-picker",{attrs:{"no-title":"",scrollable:""},on:{input:function(e){t.addedFromMenu=!1},change:t.setOptions},model:{value:t.addedFrom,callback:function(e){t.addedFrom=e},expression:"addedFrom"}})],1)],1)],1)],1)],1),o("v-data-table",{staticClass:"elevation-1 coils",attrs:{headers:t.headers,items:t.$store.state.slittedCoils,"item-key":"ID",loading:t.$store.state.isLoading,"disable-pagination":"","fixed-header":"",height:"calc(100vh - 190px)","hide-default-footer":""},scopedSlots:t._u([{key:"item.rolling_date",fn:function(e){var l=e.item;return[o("div",{staticClass:"body-2"},[o("span",[t._v(t._s(l.rolling_date?t.$options.filters.formatDate(l.rolling_date):"---"))])])]}},{key:"item.status",fn:function(e){var l=e.item;return[o("div",{staticClass:"body-2"},[o("span",{staticClass:"text-capitalize",class:t.getTextColor(l.status)},[t._v(t._s(l.status))])])]}},{key:"item.rolling_shift",fn:function(e){var l=e.item;return[o("div",{staticClass:"body-2"},[o("span",{staticClass:"text-capitalize"},[t._v(t._s(t.getShiftName(l.rolling_shift)))])])]}},{key:"item.actions",fn:function(e){var l=e.item;return[o("v-row",{attrs:{align:"center"}},["in-process for rolling"===l.status?o("v-col",{class:t.checkRole("member")?"pb-0":"",attrs:{cols:"12"},on:{click:function(e){return t.editPlanning(l)}}},[o("v-btn",{staticClass:"caption",attrs:{small:"",outlined:""}},[t._v("Edit Rolling Planning")])],1):t._e(),t.checkRole("member")&&"in-process for rolling"===l.status?o("v-col",{attrs:{cols:"12"},on:{click:function(e){return t.processCoil(l)}}},[o("v-btn",{staticClass:"caption",attrs:{small:"",outlined:""}},[t._v("View & Process")])],1):t._e(),t.checkRole("admin")&&"approve for rolling"===l.status?o("v-col",{attrs:{cols:"12"},on:{click:function(e){return t.processCoil(l)}}},[o("v-btn",{staticClass:"caption",attrs:{small:"",outlined:""}},[t._v("Mark Complete")])],1):t._e()],1)]}}],null,!0),model:{value:t.$store.state.selRows,callback:function(e){t.$set(t.$store.state,"selRows",e)},expression:"$store.state.selRows"}}),o("v-row",[t.$store.state.rolling.dialog?o("RollingPlanning"):t._e(),t.$store.state.rolling.preview?o("RollingPreview"):t._e()],1)],1)},r=[],i=(o("ac1f"),o("1276"),o("b468")),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.$store.state.rolling.preview?o("v-navigation-drawer",{staticStyle:{position:"fixed",top:"0",right:"0","overflow-y":"scroll","z-index":"101"},attrs:{temporary:"",right:"",width:"400"},model:{value:t.$store.state.rolling.preview,callback:function(e){t.$set(t.$store.state.rolling,"preview",e)},expression:"$store.state.rolling.preview"}},[o("div",{staticClass:"body-1 font-weight-bold px-4 py-2"},[t._v(" Slit Preview "),o("v-icon",{staticClass:"float-right",on:{click:t.close}},[t._v(" mdi-close-circle ")])],1),o("v-divider",{staticClass:"py-3"}),o("v-container",[o("v-row",{staticClass:"px-4"},[t.coil.status?o("v-col",{staticClass:"py-0 text-right",attrs:{cols:"12"}},[t.checkRole("admin")&&"approve for pickling"===t.coil.status?o("p",{staticClass:"font-weight-bold red--text text--darken-4 caption"},[t._v(" Pickling Loss: "+t._s(((t.coil.actual_weight-t.coil.pickled_weight)/t.coil.actual_weight*100).toFixed(2))+" % ")]):t._e()]):t._e(),o("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[o("v-text-field",{attrs:{value:t.coil.slit_no,label:"Coil No",outlined:"",dense:"",color:"grey",readonly:""}})],1),o("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[o("v-text-field",{attrs:{label:"No of Passes",outlined:"",dense:"",color:"grey",type:"number"},model:{value:t.coil.rolling_passes,callback:function(e){t.$set(t.coil,"rolling_passes",e)},expression:"coil.rolling_passes"}})],1),o("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[o("v-text-field",{attrs:{value:t.coil.thickness,label:"Thickness",outlined:"",dense:"",color:"grey",type:"number",readonly:""}})],1),o("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[o("v-text-field",{attrs:{label:"Final Thickness",outlined:"",dense:"",color:"grey",type:"number"},model:{value:t.coil.rolling_thickness,callback:function(e){t.$set(t.coil,"rolling_thickness",e)},expression:"coil.rolling_thickness"}})],1),o("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[o("v-text-field",{attrs:{label:"Weight (kg)",outlined:"",dense:"",color:"grey",type:"number",readonly:""},model:{value:t.coil.pickled_weight,callback:function(e){t.$set(t.coil,"pickled_weight",e)},expression:"coil.pickled_weight"}})],1),o("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[o("v-text-field",{attrs:{label:"Final Weight (kg)",outlined:"",dense:"",color:"grey",type:"number"},model:{value:t.coil.rolled_weight,callback:function(e){t.$set(t.coil,"rolled_weight",e)},expression:"coil.rolled_weight"}})],1),o("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[o("v-text-field",{attrs:{label:"Feedback Mode",outlined:"",dense:"",color:"grey",type:"number"},model:{value:t.coil.feedback_mode,callback:function(e){t.$set(t.coil,"feedback_mode",e)},expression:"coil.feedback_mode"}})],1),o("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[o("v-text-field",{attrs:{label:"Massflow Mode",outlined:"",dense:"",color:"grey",type:"number"},model:{value:t.coil.massflow_mode,callback:function(e){t.$set(t.coil,"massflow_mode",e)},expression:"coil.massflow_mode"}})],1),o("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[o("v-text-field",{attrs:{label:"Leader End",outlined:"",dense:"",color:"grey"},model:{value:t.coil.leader_end,callback:function(e){t.$set(t.coil,"leader_end",e)},expression:"coil.leader_end"}})],1),o("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[o("v-text-field",{attrs:{label:"Gauge Control",outlined:"",dense:"",color:"grey",type:"number"},model:{value:t.coil.gauge_control,callback:function(e){t.$set(t.coil,"gauge_control",e)},expression:"coil.gauge_control"}})],1),o("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[o("v-text-field",{attrs:{label:"Surface OK/Wavy (%)",outlined:"",dense:"",color:"grey",type:"number"},model:{value:t.coil.surface_wavy,callback:function(e){t.$set(t.coil,"surface_wavy",e)},expression:"coil.surface_wavy"}})],1),o("v-col",{staticClass:"py-0",attrs:{cols:"6"}},[o("v-text-field",{attrs:{label:"Operator",outlined:"",dense:"",color:"grey"},model:{value:t.coil.rolling_operator,callback:function(e){t.$set(t.coil,"rolling_operator",e)},expression:"coil.rolling_operator"}})],1),o("v-col",{staticClass:"body-2 pr-0 pt-0 pb-5",attrs:{cols:"auto"}},[o("v-checkbox",{staticClass:"ma-0 pa-0 body-2",attrs:{color:"grey darken-3",dense:"",label:"Rewinding Done","hide-details":""},model:{value:t.coil.rewinding,callback:function(e){t.$set(t.coil,"rewinding",e)},expression:"coil.rewinding"}})],1),o("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[o("v-textarea",{staticClass:"mr-2",attrs:{outlined:"",color:"grey","auto-grow":"",dense:"",rows:"1",label:"Remarks"},model:{value:t.coil.rolling_notes,callback:function(e){t.$set(t.coil,"rolling_notes",e)},expression:"coil.rolling_notes"}})],1)],1)],1),o("v-divider"),t.$route.path.includes("pickled")?t._e():o("div",{staticClass:"ma-4 mt-5 float-right"},[o("v-btn",{staticClass:"mr-2",attrs:{outlined:""},on:{click:t.close}},[t._v(" Cancel ")]),o("v-btn",{attrs:{dark:t.validateFields,disabled:!t.validateFields},on:{click:t.saveCoil}},[t._v(" Save ")])],1)],1):t._e()},n=[],a=(o("d81d"),o("b680"),o("96cf"),o("1da1")),c=o("df4b"),d=o("5629"),u={name:"CoilPreview",data:function(){return{coil:{},notes:"",drawer:null,data:{},maxDate:(new Date).toISOString(),dateMenu:!1,selDate:null,time:null,times:[],rows:[],errorMsg:""}},computed:{validateFields:function(){return!!(this.coil.rolling_thickness&&this.coil.rolling_passes&&this.coil.feedback_mode&&this.coil.massflow_mode&&this.coil.rolled_weight&&this.coil.gauge_control&&this.coil.surface_wavy&&this.coil.leader_end&&this.coil.rolling_operator)},scrapWidth:function(){if(this.rows.length>0){var t=0;return this.rows.map((function(e){e.actual_width||(e.actual_width=0),t=parseFloat(t)+parseFloat(e.actual_width)})),(this.rows[0].width-t).toFixed(3)}return 0},avilableWidth:function(){if(this.rows.length>0){var t=0;return this.rows.map((function(e){e.slitted_width||(e.slitted_width=0),t=parseFloat(t)+parseFloat(e.slitted_width)})),(this.rows[0].width-t).toFixed(3)}return 0},validateForm:function(){var t=0;return!(this.rows.length>0)||(this.rows.map((function(e){t=parseFloat(t)+parseFloat(e.slitted_width)})),this.rows[0].width>=t)}},mounted:function(){this.getOneSlit()},methods:{saveCoil:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var o,l,r,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=[],l=t.$options.filters.calendarDate((new Date).toISOString()),r="approve for rolling",t.checkRole("admin")&&(r="rolled"),o.push({rolling_thickness:t.coil.rolling_thickness,rolling_passes:t.coil.rolling_passes,feedback_mode:t.coil.feedback_mode,massflow_mode:t.coil.massflow_mode,rolled_weight:t.coil.rolled_weight,gauge_control:t.coil.gauge_control,surface_wavy:t.coil.surface_wavy,leader_end:t.coil.leader_end,rolling_operator:t.coil.rolling_operator,rewinding:t.coil.rewinding,rolling_notes:t.coil.rolling_notes?t.coil.rolling_notes:"",status:r,id:t.coil.ID,updated_at:l}),e.prev=5,e.next=8,d["a"].update(o);case 8:i=e.sent,console.log("result",i),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](5),console.log("error",e.t0);case 15:return e.prev=15,t.$store.state.rolling.preview=!1,s={status:"in-process for rolling,approve for rolling"},t.$store.dispatch("getSlittedCoils",s),e.finish(15);case 20:case"end":return e.stop()}}),e,null,[[5,12,15,20]])})))()},getOneSlit:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d["a"].getOne(t.$store.state.slitId);case 3:o=e.sent,t.coil=o.data.rows[0],console.log("coil",t.coil),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log("error",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},editFlag:function(t){return!!this.checkRole("admin")||(!this.checkRole("member")||"weight"!=t&&"width"!=t)},checkRole:function(t){var e=JSON.parse(localStorage.getItem("user"));return!(!e||e.role!=t)},clearSearch:function(t){console.log("data",t)},searchData:function(){},getSlits:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c["a"].getSlits(t.$store.state.coilId);case 3:o=e.sent,t.rows=o.data.rows,t.notes=t.rows[0].notes,console.log("result",o),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log("error",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},close:function(){this.$store.state.rolling.preview=!1}}},f=u,g=o("2877"),v=Object(g["a"])(f,s,n,!1,null,null,null),h=v.exports,p={components:{RollingPlanning:i["a"],RollingPreview:h},data:function(){return{selDate:null,dateMenu:!1,data:[],selThickness:"",selRows:[],singleSelect:!1,options:{},sortBy:"",orderBy:"desc",selStatus:null,addedFromMenu:!1,addedFrom:null,headers:[{text:"Coil No",align:"start",value:"slit_no",sortable:!1,width:"10%"},{text:"Thickness (mm)",value:"pickled_thickness",sortable:!1,width:"15%"},{text:"Weight (kg)",value:"pickled_weight",sortable:!1,width:"10%"},{text:"Width (mm)",value:"pickled_width",sortable:!1,width:"10%"},{text:"Final Thickness",value:"rolling_thickness",sortable:!1,width:"10%"},{text:"Rolling Date",value:"rolling_date",sortable:!1,width:"15%"},{text:"Rolling Shift",value:"rolling_shift",width:"10%"},{text:"Status",value:"status",sortable:!1,width:"10%"},{text:"Actions",value:"actions",sortable:!1,align:"end",width:"10%"}]}},mounted:function(){this.$store.state.selRows=[],this.$store.dispatch("getShifts"),this.$store.dispatch("getThicknesses"),this.$store.dispatch("getSlittedCoils",{status:"in-process for rolling,approve for rolling"})},watch:{options:{handler:function(t){var e=t.sortBy,o=t.sortDesc;1===e.length&&1===o.length&&(1==o[0]?this.orderBy="desc":this.orderBy="asc",this.sortBy=e[0]),this.searchData()},deep:!0}},methods:{processCoil:function(t){this.$store.state.slitId=t.ID,this.$store.state.rolling.preview=!0},checkRole:function(t){var e=JSON.parse(localStorage.getItem("user"));return!(!e||e.role!=t)},getShiftName:function(t){return 1===t?"Day Shift":2===t?"Night Shift":"24 Hour Shift"},editPlanning:function(t){console.log("Called",t);var e=this.$options.filters.calendarDate(t.rolling_date).split(" ");t.rolling_date=e[0],t.dateMenu=!1,this.$store.state.rolling.selRows=[t],this.$store.state.rolling.dialog=!0},setOptions:function(){this.searchData()},getTextColor:function(t){var e="";switch(t){case"slitted":e="grey--text text--darken-1";break;case"available":e="green--text text--darken-2";break;case"edit-required":e="red--text text--lighten-1";break;default:e="yellow--text text--darken-4";break}return e},clearSearch:function(t){"date"===t?this.addedFrom=null:"status"===t?this.selStatus=null:"company"===t?this.selCompany=null:"thickness"===t&&(this.selThickness=null),this.setOptions()},searchData:function(){var t={status:"in-process for rolling,approve for rolling"};this.addedFrom&&(t.rolling_date=this.addedFrom),this.selThickness&&(t.rolling_thickness=this.selThickness),this.$store.dispatch("getSlittedCoils",t)}}},m=p,b=(o("958f"),Object(g["a"])(m,l,r,!1,null,null,null));e["default"]=b.exports},1148:function(t,e,o){"use strict";var l=o("a691"),r=o("1d80");t.exports="".repeat||function(t){var e=String(r(this)),o="",i=l(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(o+=e);return o}},"25f0":function(t,e,o){"use strict";var l=o("6eeb"),r=o("825a"),i=o("d039"),s=o("ad6d"),n="toString",a=RegExp.prototype,c=a[n],d=i((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),u=c.name!=n;(d||u)&&l(RegExp.prototype,n,(function(){var t=r(this),e=String(t.source),o=t.flags,l=String(void 0===o&&t instanceof RegExp&&!("flags"in a)?s.call(t):o);return"/"+e+"/"+l}),{unsafe:!0})},"408a":function(t,e,o){var l=o("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=l(t))throw TypeError("Incorrect invocation");return+t}},"4df4":function(t,e,o){"use strict";var l=o("0366"),r=o("7b0b"),i=o("9bdd"),s=o("e95a"),n=o("50c4"),a=o("8418"),c=o("35a1");t.exports=function(t){var e,o,d,u,f,g,v=r(t),h="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,b=void 0!==m,_=c(v),w=0;if(b&&(m=l(m,p>2?arguments[2]:void 0,2)),void 0==_||h==Array&&s(_))for(e=n(v.length),o=new h(e);e>w;w++)g=b?m(v[w],w):v[w],a(o,w,g);else for(u=_.call(v),f=u.next,o=new h;!(d=f.call(u)).done;w++)g=b?i(u,m,[d.value,w],!0):d.value,a(o,w,g);return o.length=w,o}},"6b75":function(t,e,o){"use strict";function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,l=new Array(e);o<e;o++)l[o]=t[o];return l}o.d(e,"a",(function(){return l}))},8418:function(t,e,o){"use strict";var l=o("c04e"),r=o("9bf2"),i=o("5c6c");t.exports=function(t,e,o){var s=l(e);s in t?r.f(t,s,i(0,o)):t[s]=o}},"958f":function(t,e,o){"use strict";o("cecf")},"9bdd":function(t,e,o){var l=o("825a"),r=o("2a62");t.exports=function(t,e,o,i){try{return i?e(l(o)[0],o[1]):e(o)}catch(s){throw r(t),s}}},a630:function(t,e,o){var l=o("23e7"),r=o("4df4"),i=o("1c7e"),s=!i((function(t){Array.from(t)}));l({target:"Array",stat:!0,forced:s},{from:r})},b468:function(t,e,o){"use strict";var l=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[o("v-row",[o("v-dialog",{staticClass:"py-5",attrs:{"max-width":"700px"},on:{"click:outside":t.clearData},model:{value:t.$store.state.rolling.dialog,callback:function(e){t.$set(t.$store.state.rolling,"dialog",e)},expression:"$store.state.rolling.dialog"}},[o("v-card",[o("v-card-title",[o("p",{staticClass:"body-1 font-weight-bold"},[t._v(t._s(t.formTitle))])]),o("v-card-text",[o("v-container",t._l(t.$store.state.rolling.selRows,(function(e,l){return o("v-row",{key:l},[o("v-col",{staticClass:"py-0",attrs:{cols:"3"}},[o("v-text-field",{attrs:{outlined:"",readonly:"",color:"grey",dense:"",label:"Coil No"},model:{value:e.slit_no,callback:function(o){t.$set(e,"slit_no",o)},expression:"item.slit_no"}})],1),o("v-col",{staticClass:"py-0",attrs:{cols:"3"}},[o("v-menu",{ref:"dates",refInFor:!0,attrs:{"close-on-content-click":!0,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(l){var r=l.on,i=l.attrs;return[o("v-text-field",t._g(t._b({staticClass:"body-1",attrs:{dense:"",outlined:"",color:"grey",placeholder:"Date",readonly:"",clearable:""},model:{value:e.rolling_date,callback:function(o){t.$set(e,"rolling_date",o)},expression:"item.rolling_date"}},"v-text-field",i,!1),r))]}}],null,!0),model:{value:e.dateMenu,callback:function(o){t.$set(e,"dateMenu",o)},expression:"item.dateMenu"}},[o("v-date-picker",{attrs:{"no-title":"",scrollable:""},on:{input:function(t){e.dateMenu=!1}},model:{value:e.rolling_date,callback:function(o){t.$set(e,"rolling_date",o)},expression:"item.rolling_date"}})],1)],1),o("v-col",{staticClass:"py-0 my-0",attrs:{cols:"3"}},[o("v-select",{attrs:{outlined:"",dense:"",items:t.$store.state.shifts,label:"Shift","item-text":"name","item-value":"id",color:"grey"},model:{value:e.rolling_shift,callback:function(o){t.$set(e,"rolling_shift",t._n(o))},expression:"item.rolling_shift"}})],1),o("v-col",{staticClass:"py-0 my-0",attrs:{cols:"3"}},[o("v-text-field",{attrs:{outlined:"",dense:"",label:"Final Thickness",type:"number",color:"grey"},model:{value:e.rolling_thickness,callback:function(o){t.$set(e,"rolling_thickness",t._n(o))},expression:"item.rolling_thickness"}})],1)],1)})),1)],1),o("v-card-actions",{staticClass:"pb-5 mt-3"},[o("v-spacer"),o("v-btn",{attrs:{outlined:"",text:""},on:{click:t.close}},[t._v(" Cancel ")]),o("v-btn",{attrs:{dark:!t.haltSave,disabled:t.haltSave},on:{click:t.savePlanning}},[t._v(" Save ")])],1)],1)],1)],1)],1)},r=[],i=(o("d81d"),o("96cf"),o("1da1")),s=o("b85c"),n=o("5629"),a={components:{},data:function(){return{selDate:null,dateMenu:!1}},mounted:function(){this.$store.dispatch("getShifts")},computed:{formTitle:function(){return"/rolling-stock"===this.$route.path?"Create Rolling Planning":"Edit Rolling Planning"},haltSave:function(){var t=!1;if(this.$store.state.rolling.selRows.length>0){var e,o=Object(s["a"])(this.$store.state.rolling.selRows);try{for(o.s();!(e=o.n()).done;){var l=e.value;if(!l.rolling_date||!l.rolling_shift||!l.rolling_thickness){t=!0;break}}}catch(r){o.e(r)}finally{o.f()}return t}return!0}},methods:{clearData:function(){this.$store.state.rolling.selRows=[]},savePlanning:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var o,l,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=[],l=t.$options.filters.calendarDate((new Date).toISOString()),t.$store.state.rolling.selRows.map((function(t){o.push({rolling_shift:t.rolling_shift,rolling_thickness:t.rolling_thickness,rolling_date:t.rolling_date,status:"in-process for rolling",id:t.ID,updated_at:l})})),e.prev=3,e.next=6,n["a"].update(o);case 6:r=e.sent,console.log("result",r),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),console.log("error",e.t0);case 13:return e.prev=13,t.$store.state.rolling.dialog=!1,i={status:"in-process for rolling,approve for rolling"},"/rolling-stock"==t.$route.path&&(i={status:"pickled"}),t.$store.dispatch("getSlittedCoils",i),e.finish(13);case 19:case"end":return e.stop()}}),e,null,[[3,10,13,19]])})))()},close:function(){this.$store.state.rolling.dialog=!1,this.$store.state.rolling.selRows=[]}}},c=a,d=o("2877"),u=Object(d["a"])(c,l,r,!1,null,null,null);e["a"]=u.exports},b680:function(t,e,o){"use strict";var l=o("23e7"),r=o("a691"),i=o("408a"),s=o("1148"),n=o("d039"),a=1..toFixed,c=Math.floor,d=function(t,e,o){return 0===e?o:e%2===1?d(t,e-1,o*t):d(t*t,e/2,o)},u=function(t){var e=0,o=t;while(o>=4096)e+=12,o/=4096;while(o>=2)e+=1,o/=2;return e},f=a&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n((function(){a.call({})}));l({target:"Number",proto:!0,forced:f},{toFixed:function(t){var e,o,l,n,a=i(this),f=r(t),g=[0,0,0,0,0,0],v="",h="0",p=function(t,e){var o=-1,l=e;while(++o<6)l+=t*g[o],g[o]=l%1e7,l=c(l/1e7)},m=function(t){var e=6,o=0;while(--e>=0)o+=g[e],g[e]=c(o/t),o=o%t*1e7},b=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==g[t]){var o=String(g[t]);e=""===e?o:e+s.call("0",7-o.length)+o}return e};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return String(a);if(a<0&&(v="-",a=-a),a>1e-21)if(e=u(a*d(2,69,1))-69,o=e<0?a*d(2,-e,1):a/d(2,e,1),o*=4503599627370496,e=52-e,e>0){p(0,o),l=f;while(l>=7)p(1e7,0),l-=7;p(d(10,l,1),0),l=e-1;while(l>=23)m(1<<23),l-=23;m(1<<l),p(1,1),m(2),h=b()}else p(0,o),p(1<<-e,0),h=b()+s.call("0",f);return f>0?(n=h.length,h=v+(n<=f?"0."+s.call("0",f-n)+h:h.slice(0,n-f)+"."+h.slice(n-f))):h=v+h,h}})},b85c:function(t,e,o){"use strict";o.d(e,"a",(function(){return r}));o("a4d3"),o("e01a"),o("d28b"),o("d3b7"),o("3ca3"),o("ddb0");var l=o("06c5");function r(t,e){var o;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=Object(l["a"])(t))||e&&t&&"number"===typeof t.length){o&&(t=o);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,n=!0,a=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var t=o.next();return n=t.done,t},e:function(t){a=!0,s=t},f:function(){try{n||null==o["return"]||o["return"]()}finally{if(a)throw s}}}}},cecf:function(t,e,o){},d81d:function(t,e,o){"use strict";var l=o("23e7"),r=o("b727").map,i=o("1dde"),s=o("ae40"),n=i("map"),a=s("map");l({target:"Array",proto:!0,forced:!n||!a},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},fb6a:function(t,e,o){"use strict";var l=o("23e7"),r=o("861d"),i=o("e8b5"),s=o("23cb"),n=o("50c4"),a=o("fc6a"),c=o("8418"),d=o("b622"),u=o("1dde"),f=o("ae40"),g=u("slice"),v=f("slice",{ACCESSORS:!0,0:0,1:2}),h=d("species"),p=[].slice,m=Math.max;l({target:"Array",proto:!0,forced:!g||!v},{slice:function(t,e){var o,l,d,u=a(this),f=n(u.length),g=s(t,f),v=s(void 0===e?f:e,f);if(i(u)&&(o=u.constructor,"function"!=typeof o||o!==Array&&!i(o.prototype)?r(o)&&(o=o[h],null===o&&(o=void 0)):o=void 0,o===Array||void 0===o))return p.call(u,g,v);for(l=new(void 0===o?Array:o)(m(v-g,0)),d=0;g<v;g++,d++)g in u&&c(l,d,u[g]);return l.length=d,l}})}}]);
//# sourceMappingURL=chunk-4e68c630.c02e4e98.js.map